// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// in here we store the schema to the database
model User {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  email String @unique //the unique decorator makes the field unique, which means it is 
                        //not possible to create another row with the same email.
  hash  String

  firstName String?
  lastName  String?
  // the question mark signalizes it is an optional field

  bookmarks Bookmark[]

  @@map("users")
}

model Bookmark {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  title       String
  description String?
  link        String

  userId Int
  user User @relation(fields: [userId], references: [id])
  //in the code above, I'm creating a relations manytoone
  //the fields is the field inside this table, the foreign key
  //and the references is an array of primary key, in the other table, 
  //to connect with this table.
  //to update the schema, run npx prisma migrate dev

  @@map("bookmarks")
}


// commands were run
// npx prisma migrate dev => migrate the db to dev